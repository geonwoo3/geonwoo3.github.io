<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>


<title> CS 416 Narrative Visualization Project </title>
<h1> Global Warming Analysis </h1>


<style> circle {fill: red; stroke: black;} </style>

<body onload='init()'>

<svg width = 5000 height = 5000></svg>


<script>
async function init() {
    var margin = 50;
    var svg = d3.select("svg");
    var g = svg.append('g').attr("transform", "translate("+margin+", "+margin+")");
    
    
    const data = await d3.csv("daily-ppm-record.csv");
    const year_d = data.map(d => +d.Year);
    const val_d = data.map(d => +d.Ppm);
    
    
    var xscale = d3.scaleBand().range([0, 4000]).domain(year_d);
    var yscale = d3.scaleLinear().range([500,0]).domain([300, 450]);
    var w = xscale.bandwidth();


    var rr = d3.scaleLinear().range([0, 500]).domain([300, 450]);
    
    



    g.selectAll('rect')
        .data(data)
        .enter()
        .append("rect")
        .attr("x", function(d) { return xscale(d.Year); })
        .attr("y", function(d) { return yscale(d.Ppm); })
        .attr("width", w)
        .attr("height",function(d, i) {return rr(d.Ppm);});


    g.call(d3.axisLeft(yscale));

    svg.append("g")
    .attr("transform", "translate("+50+","+(500 + margin)+")")
    .call(d3.axisBottom(xscale));


}


</script>


</body>
</html>