<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>


<title> CS 416 Narrative Visualization Project </title>
<h1> Global Warming Analysis </h1>




<body>

<svg width = 5000 height = 2000></svg>


<script>
async function init() {
    var margin = 50;
    var svg = d3.select("svg");
    var g = svg.append('g').attr("transform", "translate("+margin+", "+margin+")");
    
    
    const data = await d3.csv("ppm_data_av.csv");
    const year_d = data.map(d => +d.Year);
    const val_d = data.map(d => +d.Value);
    
    
    var xscale = d3.scaleBand().range([0, 4000]).domain(year_d);
    //var xscale = year_d.map(value => x(value));

    var yscale = d3.scaleLinear().range([500,0]).domain([300, 450]);

    var scale = val_d.map(Value => Value - 300);
    
    
    var w = xscale.bandwidth();



    g.selectAll('circle')
    .data(data)
    .enter()
    .append("circle")
    .attr("cx", function(d) { return xscale(d.Year); })
    .attr("cy", function(d) { return yscale(d.Value); })
    .attr("r", function(d) { return parseInt(d.Value) - 300; });


    g.call(d3.axisLeft(yscale));

    svg.append("g")
    .attr("transform", "translate("+50+","+(500 + margin)+")")
    .call(d3.axisBottom(xscale));


}
init()


</script>


</body>
</html>